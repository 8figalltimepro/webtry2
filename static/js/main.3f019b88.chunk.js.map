{"version":3,"sources":["components/Arrow.js","components/InputBox.js","hooks/useMovie.js","components/Title.js","components/Card.js","components/MovieRow.js","components/Progress.js","lib/lookMovie.js","views/Search.js","views/NotFound.js","components/VideoElement.js","views/Movie.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["Arrow","props","className","dangerouslySetInnerHTML","__html","left","InputBox","onSubmit","placeholder","React","useState","searchTerm","setSearchTerm","type","setType","season","setSeason","episode","setEpisode","showContentType","e","preventDefault","name","id","onChange","target","value","required","hidden","MovieContext","createContext","MovieProvider","page","setPage","stream","setStream","title","streamData","setStreamData","Provider","navigate","str","setStreamUrl","streamUrl","d","p","children","useMovie","useContext","Title","size","accentLink","accent","length","onClick","Card","showing","setShowing","measureRef","useRef","height","setHeight","useEffect","current","show","clientHeight","fullWidth","style","doTransition","ref","MovieRow","year","Progress","failed","text","width","progress","steps","toFixed","getCorsUrl","url","getVideoUrl","config","a","getAccessToken","accessToken","now","Math","floor","Date","fetch","then","json","videoOpts","videoUrl","res","includes","startsWith","slug","data","token","getStreamUrl","pageReq","JSON5","parse","slice","indexOf","split","trim","id_movie","episodeObj","seasons","find","v","id_episode","findContent","searchUrl","encodeURIComponent","searchRes","results","result","map","fuse","Fuse","threshold","distance","keys","matchedResults","search","toString","item","options","forEach","r","push","SearchView","setOptions","setProgress","setText","setFailed","showingOptions","setShowingOptions","fail","getStream","query","contentType","o","searchMovie","i","href","rel","NotFound","VideoElement","videoRef","error","setError","hls","Hls","isSupported","canPlayType","attachMedia","loadSource","src","controls","autoPlay","MovieView","Router","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","console","ReactDOM","render","StrictMode","document","getElementById","publicUrl","URL","process","origin","addEventListener","headers","response","get","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.3f019b88.chunk.js","sourcesContent":["import React from 'react'\nimport './Arrow.css'\n\n// left?: boolean\nexport function Arrow(props) {\n    return (\n        <span className=\"arrow\" dangerouslySetInnerHTML={{ __html: `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather ${props.left?'left':''}\"}>\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                <polyline points=\"12 5 19 12 12 19\"></polyline>\n            </svg>\n        `}}>\n        </span>\n    )\n}\n","import React from 'react';\nimport { Arrow } from './Arrow';\nimport './InputBox.css'\n\n// props = { onSubmit: (str) => {}, placeholder: string}\nexport function InputBox({ onSubmit, placeholder }) {\n    const [searchTerm, setSearchTerm] = React.useState(\"\");\n    const [type, setType] = React.useState(\"movie\");\n    const [season, setSeason] = React.useState(\"\");\n    const [episode, setEpisode] = React.useState(\"\");\n\n    const showContentType = type === \"show\" ? false : true;\n\n    return (\n        <form className=\"inputBar\" onSubmit={(e) => {\n            e.preventDefault();\n            onSubmit(searchTerm, type, season, episode)\n            return false;\n        }}>\n            <select name=\"type\" id=\"type\" className=\"inputDropdown\" onChange={(e) => setType(e.target.value)} required>\n                <option value=\"movie\">Movie</option>\n                <option value=\"show\">TV Show</option>\n            </select>\n            <input\n                type='text'\n                className=\"inputTextBox\"\n                id=\"inputTextBox\"\n                placeholder={placeholder}\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                required\n            />\n            <input\n                type='text'\n                className='inputOptionBox'\n                id='inputOptionBoxSeason'\n                placeholder='Season'\n                value={season}\n                onChange={(e) => setSeason(e.target.value)}\n                hidden={showContentType}\n                required={!showContentType}\n            />\n            <input\n                type='text'\n                className='inputOptionBox'\n                id='inputOptionBoxEpisode'\n                placeholder='Episode'\n                value={episode}\n                onChange={(e) => setEpisode(e.target.value)}\n                hidden={showContentType}\n                required={!showContentType} />\n            <button className=\"inputSearchButton\"><span className=\"text\">Search<span className=\"arrow\"><Arrow /></span></span></button>\n        </form>\n    )\n}\n","import React from 'react'\nconst MovieContext = React.createContext(null)\n\nexport function MovieProvider(props) {\n    const [page, setPage] = React.useState(\"search\");\n    const [stream, setStream] = React.useState(\"\");\n    const [streamData, setStreamData] = React.useState({ title: \"\", type: \"\", episode: \"\", season: \"\" })\n\n    return (\n        <MovieContext.Provider value={{\n            navigate(str) {\n                setPage(str)\n            },\n            page,\n            setStreamUrl: setStream,\n            streamUrl: stream,\n            streamData,\n            setStreamData(d) {\n                setStreamData(p => ({...p,...d}))\n            },\n        }}>\n            {props.children}\n        </MovieContext.Provider>\n    )\n}\n\nexport function useMovie(props) {\n    return React.useContext(MovieContext);\n}\n","import React from 'react';\nimport { useMovie } from '../hooks/useMovie'\nimport { Arrow } from '../components/Arrow'\nimport './Title.css'\n\n// size: \"big\" | \"medium\" | \"small\" | null\n// accent: string | null\n// accentLink: string | null\nexport function Title(props) {\n    const { navigate } = useMovie();\n    const size = props.size || \"big\";\n\n    const accentLink = props.accentLink || \"\";\n    const accent = props.accent || \"\";\n    return (\n        <div>\n            {accent.length > 0 ? (\n                <p onClick={ () => accentLink.length > 0 && navigate(accentLink)} className={`title-accent ${accentLink.length > 0 ? 'title-accent-link' : ''}`}>\n                    {accentLink.length > 0 ? (<Arrow left/>) : null}{accent}\n                </p>\n            ) : null}\n            <h1 className={\"title \" + ( size ? 'title-size-' + size : '' )}>{props.children}</h1>\n        </div>\n    )\n}\n","import React from 'react'\nimport './Card.css'\n\n// fullWidth: boolean\n// show: boolean\n// doTransition: boolean\nexport function Card(props) {\n\n    const [showing, setShowing] = React.useState(false);\n    const measureRef = React.useRef(null)\n    const [height, setHeight] = React.useState(0);\n\n    React.useEffect(() => {\n        if (!measureRef?.current) return;\n        setShowing(props.show);\n        setHeight(measureRef.current.clientHeight)\n    }, [props.show, measureRef])\n\n    return (\n        <div className={`card-wrapper ${ props.fullWidth ? 'full' : '' }`} style={{\n            height: props.doTransition ? (showing ? height : 0) : \"initial\",\n        }}>\n            <div className={`card ${ showing ? 'show' : '' } ${ props.doTransition ? 'doTransition' : '' }`} ref={measureRef}>\n                {props.children}\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Arrow } from './Arrow'\nimport './MovieRow.css'\n\n// title: string\n// onClick: () => void\nexport function MovieRow(props) {\n    return (\n        <div className=\"movieRow\" onClick={() => props.onClick && props.onClick()}>\n            <div className=\"left\">\n                {props.title}&nbsp;\n                <span className=\"year\">({props.year})</span>\n            </div>\n            <div className=\"watch\">\n                <span className='attribute' hidden={props.type === 'show' ? false : true }>{props.season}x{props.episode}</span>\n                <p>Watch {props.type}</p>\n                <Arrow/>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport './Progress.css'\n\n// show: boolean\n// progress: number\n// steps: number\n// text: string\n// failed: boolean\nexport function Progress(props) {\n    return (\n        <div className={`progress ${props.show?'':'hide'} ${props.failed?'failed':''}`}>\n            { props.text && props.text.length > 0 ? (\n                <p>{props.text}</p>) : null}\n            <div className=\"bar\">\n                <div className=\"bar-inner\" style={{\n                    width: (props.progress / props.steps * 100).toFixed(0) + \"%\"\n                }}/>\n            </div>\n        </div>\n    )\n}","import Fuse from 'fuse.js'\nimport JSON5 from 'json5'\n\nfunction getCorsUrl(url) {\n    return `https://hidden-inlet-27205.herokuapp.com/${url}`;\n}\n\nasync function getVideoUrl(config) {\n    const accessToken = await getAccessToken(config);\n    const now = Math.floor(Date.now() / 1e3);\n\n    let url = '';\n\n    if (config.type === 'movie') {\n        url = getCorsUrl(`https://lookmovie.io/manifests/movies/json/${config.id}/${now}/${accessToken}/master.m3u8`);\n    } else if (config.type === 'show') {\n        url = getCorsUrl(`https://lookmovie.io/manifests/shows/json/${accessToken}/${now}/${config.id}/master.m3u8`);\n    }\n\n    if (url) {\n        const videoOpts = await fetch(url).then((d) => d.json());\n\n        // Find video URL and return it (with a check for a full url if needed)\n        const opts = [\"1080p\", \"1080\", \"720p\", \"720\", \"480p\", \"480\", \"auto\"]\n\n        let videoUrl = \"\";\n        for (let res of opts) {\n            if (videoOpts[res] && !videoOpts[res].includes('dummy') && !videoOpts[res].includes('earth-1984') && !videoUrl) {\n                videoUrl = videoOpts[res]\n            }\n        }\n\n        return videoUrl.startsWith(\"/\") ? getCorsUrl(`https://lookmovie.io/${videoUrl}`) : getCorsUrl(videoUrl);\n    }\n\n    return \"Invalid type.\";\n}\n\nasync function getAccessToken(config) {\n    let url = '';\n\n    if (config.type === 'movie') {\n        url = getCorsUrl(`https://lookmovie.io/api/v1/security/movie-access?id_movie=${config.id}&token=1&sk=&step=1`);\n    } else if (config.type === 'show') {\n        url = getCorsUrl(`https://lookmovie.io/api/v1/security/show-access?slug=${config.slug}&token=&step=2`);\n    }\n\n    const data = await fetch(url).then((d) => d.json());\n\n    const token = data?.data?.accessToken;\n    if (token) return token;\n\n    return \"Invalid type provided in config\";\n}\n\nasync function getStreamUrl(slug, type, season, episode) {\n    const url = getCorsUrl(`https://lookmovie.io/${type}s/view/${slug}`);\n    const pageReq = await fetch(url).then((d) => d.text());\n\n    const data = JSON5.parse(\"{\" +\n        pageReq\n            .slice(pageReq.indexOf(`${type}_storage`))\n            .split(\"};\")[0]\n            .split(\"= {\")[1]\n            .trim() +\n        \"}\"\n    );\n\n    let id = '';\n\n    if (type === \"movie\") {\n\t\tid = data.id_movie;\n\t} else if (type === \"show\") {\n\t\tconst episodeObj = data.seasons.find((v) => { return v.season === season && v.episode === episode; });\n\t\t\n        if (episodeObj) {\n\t\t\tid = episodeObj.id_episode;\n\t\t}\n\t}\n\n    if (id === '') {\n        return { url: '' }\n    }\n\n    const videoUrl = await getVideoUrl({\n        slug: slug,\n        id: id,\n        type: type,\n    });\n\n    return { url: videoUrl }\n}\n\nasync function findContent(searchTerm, type) {    \n    const searchUrl = getCorsUrl(`https://lookmovie.io/api/v1/${type}s/search/?q=${encodeURIComponent(searchTerm)}`);\n    const searchRes = await fetch(searchUrl).then((d) => d.json());\n    const results = [...searchRes.result.map((v) => ({ ...v, type: type}))];\n\n    const fuse = new Fuse(results, { threshold: 0.3, distance: 200, keys: [\"title\"] });\n    const matchedResults = fuse\n        .search(searchTerm.toString())\n        .map((result) => result.item);\n\n    if (matchedResults.length === 0) {\n        return { options: [] }\n    }\n\n    if (matchedResults.length > 1) {\n        const res = { options: [] };\n        \n        matchedResults.forEach((r) => res.options.push({\n            title: r.title,\n            slug: r.slug,\n            type: r.type,\n            year: r.year\n        }));\n\n        return res;\n    } else {\n        const { title, slug, type, year } = matchedResults[0];\n        \n        return {\n            options: [{ title, slug, type, year }]\n        }\n    }\n}\n\nexport { findContent, getStreamUrl };","import React from 'react';\nimport { InputBox } from '../components/InputBox'\nimport { Title } from '../components/Title'\nimport { Card } from '../components/Card'\nimport { MovieRow } from '../components/MovieRow'\nimport { Arrow } from '../components/Arrow'\nimport { Progress } from '../components/Progress'\nimport { findContent, getStreamUrl } from '../lib/lookMovie'\nimport { useMovie } from '../hooks/useMovie';\n\nimport './Search.css'\n\nexport function SearchView() {\n    const { navigate, setStreamUrl, setStreamData } = useMovie();\n\n    const maxSteps = 3;\n    const [options, setOptions] = React.useState([]);\n    const [progress, setProgress] = React.useState(0);\n    const [text, setText] = React.useState(\"\");\n    const [failed, setFailed] = React.useState(false);\n    const [showingOptions, setShowingOptions] = React.useState(false);\n\n    const fail = (str) => {\n        setProgress(maxSteps);\n        setText(str)\n        setFailed(true)\n    }\n\n    async function getStream(title, slug, type, season, episode) {\n        setStreamUrl(\"\");\n        try {\n            setProgress(2);\n            setText(`Getting stream for \"${title}\"`)\n            const { url } = await getStreamUrl(slug, type, season, episode);\n\n            if (url === '') {\n                return fail(`Not found: ${title} (${season}x${episode})`)\n            }\n\n            setProgress(maxSteps);\n            setStreamUrl(url);\n            setStreamData({\n                title,\n                type,\n                season,\n                episode\n            })\n            setText(`Streaming...`)\n            navigate(\"movie\")\n        } catch (err) {\n            fail(\"Failed to get stream\")\n        }\n    }\n\n    async function searchMovie(query, contentType, season, episode) {\n        setFailed(false);\n        setText(`Searching for ${contentType} \"${query}\" ${contentType === 'show' ? ` (${season}x${episode})` : ''}`);\n        setProgress(1)\n        setShowingOptions(false)\n\n        try {\n            const { options } = await findContent(query, contentType)\n\n            if (options.length === 0) {\n                return fail(`Could not find that ${contentType}`)\n            } else if (options.length > 1) {\n                options.forEach((o) => {\n                    o.season = season;\n                    o.episode = episode;\n                });\n\n                setProgress(2);\n                setText(`Choose your ${contentType}`);\n                setOptions(options);\n                setShowingOptions(true);\n                return;\n            }\n\n            const { title, slug, type } = options[0];\n            getStream(title, slug, type, season, episode);\n        } catch (err) {\n            fail(`Failed to watch ${contentType}`)\n        }\n    }\n\n    return (\n        <div className=\"cardView\">\n            <Card>\n                <Title accent=\"Because watching content legally is boring\">\n                    What do you wanna watch?\n                </Title>\n                <InputBox placeholder=\"Hamilton\" onSubmit={(str, type, season, episode) => searchMovie(str, type, season, episode)} />\n                <Progress show={progress > 0} failed={failed} progress={progress} steps={maxSteps} text={text} />\n            </Card>\n\n            <Card show={showingOptions} doTransition>\n                <Title size=\"medium\">\n                    Whoops, there are a few movies like that\n                </Title>\n                {options?.map((v, i) => (\n                    <MovieRow key={i} title={v.title} type={v.type} year={v.year} season={v.season} episode={v.episode} onClick={() => {\n                        setShowingOptions(false)\n                        getStream(v.title, v.slug, v.type, v.season, v.episode)\n                    }}/>\n                ))}\n            </Card>\n            <div className=\"topRightCredits\">\n                <a href=\"https://github.com/JamesHawkinss/movie-web\" target=\"_blank\" rel=\"noreferrer\">Check it out on GitHub <Arrow/></a>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Title } from '../components/Title'\nimport { Card } from '../components/Card'\n\nexport function NotFound(props) {\n    return (\n        <div className=\"cardView\">\n            <Card>\n                <Title accent=\"How did you end up here?\">\n                    Oopsie doopsie\n                </Title>\n            </Card>\n        </div>\n    )\n}\n","import React from 'react'\nimport Hls from 'hls.js'\nimport './VideoElement.css'\n\n// streamUrl: string\nexport function VideoElement({ streamUrl }) {\n    const videoRef = React.useRef(null);\n    const [error, setError] = React.useState(false);\n\n    React.useEffect(() => {\n        setError(false)\n        if (!videoRef || !videoRef.current) return;\n        \n        const hls = new Hls();\n        \n        if (!Hls.isSupported() && videoRef.current.canPlayType('application/vnd.apple.mpegurl')) {\n            videoRef.current.src = streamUrl;\n            return;\n        } else if (!Hls.isSupported()) {\n            setError(true)\n            return;\n        }\n        \n        hls.attachMedia(videoRef.current);\n        hls.loadSource(streamUrl);\n    }, [videoRef, streamUrl])\n\n    if (error)\n        return (<p className=\"videoElementText\">Your browser is not supported</p>)\n\n    return (\n        <video className=\"videoElement\" ref={videoRef} controls autoPlay />\n    )\n}\n","import React from 'react'\nimport { Title } from '../components/Title'\nimport { Card } from '../components/Card'\nimport { useMovie } from '../hooks/useMovie'\nimport { VideoElement } from '../components/VideoElement'\n\nexport function MovieView(props) {\n    const { streamUrl, streamData } = useMovie();\n\n    return (\n        <div className=\"cardView\">\n            <Card fullWidth>\n                <Title accent=\"Return to home\" accentLink=\"search\">\n                    {streamData.title} {streamData.type === \"show\" ? `(${streamData.season}x${streamData.episode})` : '' }\n                </Title>\n                <VideoElement streamUrl={streamUrl}/>\n            </Card>\n        </div>\n    )\n}\n","import './index.css';\nimport { SearchView } from './views/Search';\nimport { NotFound } from './views/NotFound';\nimport { MovieView } from './views/Movie';\nimport { useMovie, MovieProvider} from './hooks/useMovie';\n\nfunction Router() {\n  const { page } = useMovie();\n\n  if (page === \"search\") {\n    return <SearchView/>\n  }\n\n  if (page === \"movie\") {\n    return <MovieView/>\n  }\n\n  return (\n    <NotFound/>\n  )\n}\n\nfunction App() {\n  return (\n    <MovieProvider>\n      <Router/>\n    </MovieProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if ('serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\n        if (publicUrl.origin !== window.location.origin) {\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${publicUrl}service-worker.js`;\n            \n            if (isLocalhost) {\n                checkValidServiceWorker(swUrl, config);\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();"],"sourceRoot":""}