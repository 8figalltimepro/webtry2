(this["webpackJsonpmovie-web"]=this["webpackJsonpmovie-web"]||[]).push([[0],{159:function(e,t,r){},161:function(e,t,r){},162:function(e,t,r){},163:function(e,t,r){},164:function(e,t,r){},165:function(e,t,r){},166:function(e,t,r){},167:function(e,t,r){},170:function(e,t,r){},175:function(e,t){},177:function(e,t){},187:function(e,t){},189:function(e,t){},216:function(e,t){},217:function(e,t){},222:function(e,t){},224:function(e,t){},231:function(e,t){},250:function(e,t){},296:function(e,t,r){},297:function(e,t,r){},298:function(e,t,r){},299:function(e,t,r){},300:function(e,t,r){},301:function(e,t,r){},302:function(e,t,r){},303:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(147),s=r.n(a),c=r(46),i=(r(90),r(17)),u=r(48),_=r(10),l=r(8),p=r(5),d=r(3),h=r.n(d),b=r(56),f=r(9),m=(r(159),r(0));function v(e){return Object(m.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:'\n            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather '.concat(e.left?"left":"",'"}>\n                <line x1="5" y1="12" x2="19" y2="12"></line>\n                <polyline points="12 5 19 12 12 19"></polyline>\n            </svg>\n        ')}})}r(161);function w(e){var t=o.a.useState(!1),r=Object(p.a)(t,2),n=r[0],a=r[1],s=o.a.useRef(null),c=o.a.useState(0),i=Object(p.a)(c,2),u=i[0],_=i[1];return o.a.useEffect((function(){null!==s&&void 0!==s&&s.current&&(a(e.show),_(s.current.clientHeight))}),[e.show,s]),Object(m.jsx)("div",{className:"card-wrapper ".concat(e.fullWidth?"full":""," ").concat(e.doTransition?"overflow-hidden":""),style:{height:e.doTransition?n?u:0:"initial"},children:Object(m.jsx)("div",{className:"card ".concat(n?"show":""," ").concat(e.doTransition?"doTransition":""),ref:s,children:e.children})})}r(162);function x(e){var t=e.children;return Object(m.jsx)("div",{className:"errorBanner",children:t})}r(163);function j(e){var t=e.onSubmit,r=e.placeholder,n=o.a.useState(""),a=Object(p.a)(n,2),s=a[0],c=a[1];return Object(m.jsxs)("form",{className:"inputBar",onSubmit:function(e){return e.preventDefault(),t(s),!1},children:[Object(m.jsx)("input",{type:"text",className:"inputTextBox",id:"inputTextBox",placeholder:r,value:s,onChange:function(e){return c(e.target.value)},required:!0}),Object(m.jsx)("button",{className:"inputSearchButton",children:Object(m.jsxs)("span",{className:"text",children:["Search",Object(m.jsx)("span",{className:"arrow",children:Object(m.jsx)(v,{})})]})})]})}r(164);function O(e){var t=e.percentage;return t&&t>3&&(t=Math.max(20,t<90?t:100)),t>0?Object(m.jsx)("div",{className:"progressBar",children:Object(m.jsx)("div",{className:"progressBarInner",style:{width:"".concat(t,"%")}})}):Object(m.jsx)(o.a.Fragment,{})}var g={_data:{versionList:[],maxVersion:0,versions:{},storageString:null,instanceHelpers:{},staticHelpers:{}},setKey:function(e){return this._data.storageString=e,this},addVersion:function(e){var t=e.version,r=e.migrate,n=e.create;if(t<0)throw new Error("Cannot add version below 0 in store");if(t>0&&!r)throw new Error("Missing migration on version ".concat(t," (needed for any version above 0)"));return t>this._data.maxVersion&&(this._data.maxVersion=t),this._data.versionList.push(t),this._data.versions[t.toString()]={version:t,update:r?function(e){return r(e),e["--version"]=t,e}:null,init:n?function(){var e=n();return e["--version"]=t,e}:null},this},registerHelper:function(e){var t=e.name,r=e.helper,n=e.type;if(n||(n="instance"),!t||t.constructor!==String)throw new Error("helper name is not a string");if(!r||r.constructor!==Function)throw new Error("helper function is not a function");if(!["instance","static"].includes(n))throw new Error("helper type must be either 'instance' or 'static'");return"instance"===n?this._data.instanceHelpers[t]=r:"static"===n&&(this._data.staticHelpers[t]=r),this},build:function(){var e=this._data.versionList.sort((function(e,t){return e-t}));if(e.forEach((function(e,t,r){if(0!==t&&e!==r[t-1]+1)throw new Error("Version list of store is not incremental")})),0!==e[0])throw new Error("Version 0 doesn't exist in version list of store");if(!this._data.versions[this._data.maxVersion.toString()].init)throw new Error("Missing create function on version ".concat(this._data.maxVersion," (needed for latest version of store)"));if(!this._data.storageString)throw new Error("storage key not set in store");return function(e){var t={versions:e.versions,currentVersion:e.maxVersion,id:e.storageString};return t.get=function(){var t=this,r=this,n=localStorage.getItem(this.id);if(n)try{if(!(n=JSON.parse(n)).constructor)throw console.error("Storage item for store ".concat(this.id," has not constructor")),new Error("storage item has no constructor");if(n.constructor!==Object)throw console.error("Storage item for store ".concat(this.id," is not an object")),new Error("storage item is not an object")}catch(o){console.error("Failed to parse storage item for store ".concat(this.id)),n=null}return n||(n=this.versions[this.currentVersion.toString()].init()),(n=this.update(n)).save=function(){localStorage.setItem(r.id,JSON.stringify(n))},Object.entries(e.instanceHelpers).forEach((function(e){var r=Object(p.a)(e,2),o=r[0],a=r[1];if(void 0!==n[o])throw new Error("helper name: ".concat(o," on instance of store ").concat(t.id," is reserved"));n[o]=a.bind(n)})),n}.bind(t),t.update=function(e){if(!e)throw new Error("object to update is not an object");for(void 0===e["--version"]&&(e["--version"]=0);e["--version"]!==this.currentVersion;){var t=e["--version"]||0;if(t=t.constructor!==Number||t<0?-42:(t+1).toString(),!this.versions[t]){console.error("Version not found for storage item in store ".concat(this.id,", resetting")),e=null;break}e=this.versions[t].update(e)}return null===e?(console.error("Storage item for store ".concat(this.id," has been reset due to faulty updates")),this.versions[this.currentVersion.toString()].init()):e}.bind(t),Object.entries(e.staticHelpers).forEach((function(e){var r=Object(p.a)(e,2),n=r[0],o=r[1];if(void 0!==t[n])throw new Error("helper name: ".concat(n," on store ").concat(t.id," is reserved"));t[n]=o.bind({})})),t}(this._data)}}.setKey("video-progress").addVersion({version:0,create:function(){return{}}}).build();r(165);function y(e){var t,r,n,o,a=g.get(),s=null;"movie"===e.type&&((t=null===a||void 0===a||null===(r=a[e.source])||void 0===r||null===(n=r.movie)||void 0===n||null===(o=n[e.slug])||void 0===o?void 0:o.full)&&(s=Math.floor(t.currentlyAt/t.totalDuration*100)));return Object(m.jsxs)("div",{className:"movieRow",tabIndex:0,onKeyPress:function(t){"Enter"!==t.code&&"Space"!==t.code||!e.onClick||e.onClick()},onClick:function(){return e.onClick&&e.onClick()},children:[("lookmovie"===e.source||"xemovie"===e.source)&&Object(m.jsx)("div",{className:"subtitleIcon",children:Object(m.jsx)("svg",{id:"subtitleIcon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M20 4H4C2.897 4 2 4.897 2 6V18C2 19.103 2.897 20 4 20H20C21.103 20 22 19.103 22 18V6C22 4.897 21.103 4 20 4ZM11 10H8V14H11V16H8C6.897 16 6 15.103 6 14V10C6 8.897 6.897 8 8 8H11V10ZM18 10H15V14H18V16H15C13.897 16 13 15.103 13 14V10C13 8.897 13.897 8 15 8H18V10Z",fill:"#EEEEEE"})})}),Object(m.jsx)("div",{className:"left",children:Object(m.jsx)("div",{className:"titleWrapper",children:Object(m.jsxs)("div",{className:"titleText",children:[e.title,"\xa0",Object(m.jsxs)("span",{className:"year",children:["(",e.year,")"]}),Object(m.jsx)("span",{className:"seasonEpisodeSubtitle",children:e.place?" - S".concat(e.place.season,":E").concat(e.place.episode):""})]})})}),Object(m.jsxs)("div",{className:"watch",children:[Object(m.jsxs)("p",{children:["Watch ",e.type]}),Object(m.jsx)(v,{})]}),Object(m.jsx)(O,{percentage:e.percentage||s})]})}r(166);function E(e){return Object(m.jsxs)("div",{className:"progress ".concat(e.show?"":"hide"," ").concat(e.failed?"failed":""),children:[e.text&&e.text.length>0?Object(m.jsx)("p",{children:e.text}):null,Object(m.jsx)("div",{className:"bar",children:Object(m.jsx)("div",{className:"bar-inner",style:{width:(e.progress/e.steps*100).toFixed(0)+"%"}})})]})}var k=o.a.createContext(null);function S(e){var t=o.a.useState("search"),r=Object(p.a)(t,2),n=r[0],a=r[1],s=o.a.useState(""),c=Object(p.a)(s,2),u=c[0],_=c[1],l=o.a.useState(null),d=Object(p.a)(l,2),h=d[0],b=d[1];return Object(m.jsx)(k.Provider,{value:{navigate:function(e){a(e)},page:n,setStreamUrl:_,streamUrl:u,streamData:h,setStreamData:function(e){b((function(t){return Object(i.a)(Object(i.a)({},t),e)}))},resetStreamData:function(){b(null)}},children:e.children})}function D(e){return o.a.useContext(k)}r(167);function M(e){var t=D(),r=t.streamData,n=t.resetStreamData,o=Object(f.e)(),a=e.size||"big",s=e.accentLink||"",c=e.accent||"";function i(){s.length>0&&(o.push("/".concat(r.type)),n())}return Object(m.jsxs)("div",{children:[c.length>0?Object(m.jsxs)("p",{onClick:i,className:"title-accent ".concat(s.length>0?"title-accent-link":""),tabIndex:s.length>0?0:void 0,onKeyPress:function(e){"Enter"!==e.code&&"Space"!==e.code||i()},children:[s.length>0?Object(m.jsx)(v,{left:!0}):null,c]}):null,Object(m.jsx)("h1",{className:"title "+(a?"title-size-".concat(a):""),children:e.children})]})}r(170);function P(e){var t=e.setType,r=e.choices,n=e.selected,o=e.noWrap,a=void 0!==o&&o,s=r.findIndex((function(e){return e.value===n})),c={opacity:-1!==s?1:0,transform:"translateX(".concat(-1!==s?7*s:0,"rem)")};return Object(m.jsxs)("div",{className:"typeSelector ".concat(a?"nowrap":""),children:[r.map((function(e){return Object(m.jsx)("div",{className:"choice ".concat(n===e.value?"selected":""),onClick:function(){return t(e.value)},onKeyPress:(r=e.value,function(e){"Enter"!==e.code&&"Space"!==e.code||t(r)}),tabIndex:0,children:e.label},e.value);var r})),Object(m.jsx)("div",{className:"selectedBar",style:c})]})}var C=r(59),U="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://theflix.to");function T(){return(T=Object(l.a)(h.a.mark((function e(t,r){var n,o,a,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase(),e.next=4,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://www.themoviedb.org/search/").concat("show"===r?"tv":r,"?query=").concat(n)).then((function(e){return e.text()}));case 4:if(o=e.sent,a=(new DOMParser).parseFromString(o,"text/html"),s=Array.from(a.querySelectorAll("div.results > div > div.wrapper")),c=s.slice(0,10).map((function(e){var t,r,n,o=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("data-media-type");if("movie"===(o="tv"===o?"show":o))try{t=e.querySelector("div.details > div.wrapper > div.title > div > a").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(a){return}else if("show"===o)try{t=e.querySelector("div.details > div.wrapper > div.title > div > a > h2").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(a){return}return{type:o,title:t,year:r,slug:n+"-"+t.replace(/[^a-z0-9]+|\s+/gim," ").replace(/\s+/g,"-").toLowerCase(),source:"theflix"}})),!(c.length>1)){e.next=12;break}return e.abrupt("return",{options:c});case 12:return e.abrupt("return",{options:[c[0]]});case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function I(){return(I=Object(l.a)(h.a.mark((function e(t){var r,n,o,a,s,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/seasons")).then((function(e){return e.text()}));case 3:r=e.sent,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t.split("-")[0],"/seasons")).then((function(e){return e.text()}));case 10:(r=e.sent)&&(t=t.split("-")[0]);case 12:n=Array.from((new DOMParser).parseFromString(r,"text/html").querySelectorAll("div.column_wrapper > div.flex > div")),o=[],a=[],s=h.a.mark((function e(){var r,n,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i[c],(n=r.querySelector("div > section > div > div > div > h2 > a").textContent).includes("Season")){e.next=4;break}return e.abrupt("return","continue");case 4:return s=n.split(" ")[1],o.includes(s)||o.push(s),a[s]||(a[s]=[]),e.next=9,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/season/").concat(s)).then((function(e){return e.text()}));case 9:u=e.sent,Array.from((new DOMParser).parseFromString(u,"text/html").querySelectorAll("div.episode_list > div.card")).forEach((function(e,t){return a[s].push(++t)}));case 12:case"end":return e.stop()}}),e)})),c=0,i=n;case 17:if(!(c<i.length)){e.next=25;break}return e.delegateYield(s(),"t1",19);case 19:if("continue"!==e.t1){e.next=22;break}return e.abrupt("continue",22);case 22:c++,e.next=17;break;case 25:return e.abrupt("return",{seasons:o,episodes:a});case 26:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function A(){return(A=Object(l.a)(h.a.mark((function e(t,r,n,o){var a,s,c,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="show"===r?"".concat(U,"/tv-show/").concat(t,"/season-").concat(n,"/episode-").concat(o):"".concat(U,"/movie/").concat(t,"?movieInfo=").concat(t),e.next=3,fetch(a).then((function(e){return e.text()}));case 3:if(s=e.sent,c=Array.from((new DOMParser).parseFromString(s,"text/html").querySelectorAll("script")),!(i=c.find((function(e){return e.textContent.includes("theflixvd.b-cdn")})))){e.next=9;break}return u=JSON.parse(i.textContent),e.abrupt("return",{url:u.props.pageProps.videoUrl});case 9:return e.abrupt("return",{url:""});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L={findContent:function(e,t){return T.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return A.apply(this,arguments)},getEpisodes:function(e){return I.apply(this,arguments)}},R=L,B=r(58),N="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://stream.vidzstore.com");function W(){return(W=Object(l.a)(h.a.mark((function e(t,r){var n,o,a,s,c,i,u,l,p,d,b,f,m,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==r){e.next=2;break}return e.abrupt("return",{options:[]});case 2:return e.prev=2,n="".concat(N,"/search.php?sd=").concat(t.replace(/ /g,"_")),e.next=6,fetch(n).then((function(e){return e.text()}));case 6:if(o=e.sent,a=new DOMParser,s=a.parseFromString(o,"text/html"),c=Object(_.a)(s.querySelectorAll(".post")),i=c.map((function(e){var t=e.querySelector("a").title.replace(/-/g," ").trim().split(" ");return t.splice(-2),{type:r,title:t.join(" "),year:e.querySelector(".post-meta").innerText.split(" ").pop().split("-").shift(),slug:encodeURIComponent(e.querySelector("a").href.split("/").pop()),source:"vidzstore"}})),u=new B.a(i,{threshold:.3,keys:["title"]}),0!==(l=u.search(t).map((function(e){return e.item}))).length){e.next=15;break}return e.abrupt("return",{options:[]});case 15:if(!(l.length>1)){e.next=21;break}return p={options:[]},l.forEach((function(e){return p.options.push({title:e.title,slug:e.slug,type:e.type,year:e.year,source:"vidzstore"})})),e.abrupt("return",p);case 21:return d=l[0],b=d.title,f=d.slug,m=d.type,v=d.year,e.abrupt("return",{options:[{title:b,slug:f,type:m,year:v,source:"vidzstore"}]});case 23:e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(2),e.abrupt("return",{options:[]});case 28:case"end":return e.stop()}}),e,null,[[2,25]])})))).apply(this,arguments)}function K(){return(K=Object(l.a)(h.a.mark((function e(t){var r,n,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(N,"/").concat(decodeURIComponent(t)),e.next=3,fetch(r).then((function(e){return e.text()}));case 3:return n=e.sent,o=(new DOMParser).parseFromString(n,"text/html"),e.abrupt("return",{url:o.querySelector("source").src});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q={findContent:function(e,t){return W.apply(this,arguments)},getStreamUrl:function(e){return K.apply(this,arguments)}},V=q,H=r(88),F={62:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",95:"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"};function J(e){var t=function(e){for(var t=[/}\('([\s\S]*)', *(\d+), *(\d+), *'([\s\S]*)'\.split\('\|'\), *(\d+), *([\s\S]*)\)\)/,/}\('([\s\S]*)', *(\d+), *(\d+), *'([\s\S]*)'\.split\('\|'\)/],r=0;r<t.length;++r){var n;if(n=t[r].exec(e))return[n[1],n[4].split("|"),parseInt(n[2]),parseInt(n[3])]}throw new Error("Could not make sense of p.a.c.k.e.r data (unexpected code structure)")}(e),r=t[0],n=t[1],o=t[2],a=t[3];if(a!==n.length)throw new Error("Malformed p.a.c.k.e.r. symtab. ("+a+" != "+n.length+")");var s=function(e){if(2<=e<=36)return function(t){return parseInt(t,e)};var t={},r=F[e];if(!r)throw new Error("Unsupported encoding");for(;0<r.length;++r)t[r[0]]=0;return function(r){return r.split("").reverse().reduce((function(r,n){return Math.pow(e,n)*t[r]}))}}(o);return r.replace(/\b\w+\b/g,(function(e){return n[s(e)]||e}))}var z="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://gomo.to"),G="".concat(z,"/movie"),X="".concat(z,"/decoding_v3.php");function Z(){return(Z=Object(l.a)(h.a.mark((function e(t,r){var n,o,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"movie"===r){e.next=3;break}return e.abrupt("return");case 3:return n=t.toLowerCase(),e.next=6,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://v2.sg.media-imdb.com/suggestion/").concat(n.slice(0,1),"/").concat(n,".json")).then((function(e){return e.json()}));case 6:if(o=e.sent,a=[],o.d.forEach((function(e){e.id.startsWith("tt")&&"TV series"!==e.q&&"TV mini-series"!==e.q&&"video game"!==e.q&&"TV movie"!==e.q&&"TV special"!==e.q&&a.push({title:e.l,slug:e.id,type:"movie",year:e.y,source:"gomostream"})})),!(a.length>1)){e.next=13;break}return e.abrupt("return",{options:a});case 13:return e.abrupt("return",{options:[a[0]]});case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Y(){return(Y=Object(l.a)(h.a.mark((function e(t,r,n,o){var a,s,c,i,u,_,l,p,d,b,f,m,v,w,x;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("movie"===r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("".concat(G,"/").concat(t)).then((function(e){return e.text()}));case 4:if("Movie not available."!==(c=e.sent)){e.next=7;break}return e.abrupt("return",{url:""});case 7:return i=null===(a=c.match(/var tc = '(.+)';/))||void 0===a?void 0:a[1],u=null===(s=c.match(/"_token": "(.+)",/))||void 0===s?void 0:s[1],(_=new FormData).append("tokenCode",i),_.append("_token",u),e.next=14,fetch(X,{method:"POST",body:_,headers:{"x-token":i.slice(5,13).split("").reverse().join("")+"13574199"}}).then((function(e){return e.json()}));case 14:return l=e.sent,p=l.find((function(e){return e.includes("gomo.to")})),e.next=18,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=").concat(p)).then((function(e){return e.text()}));case 18:if(d=e.sent,b=new DOMParser,"File was deleted"!==(f=b.parseFromString(d,"text/html")).body.innerText){e.next=23;break}return e.abrupt("return",{url:""});case 23:return m=f.querySelectorAll("script")[8].innerHTML,(v=J(m).split("")).splice(0,43),w=v.findIndex((function(e){return'"'===e})),x=v.slice(0,w).join(""),e.abrupt("return",{url:x});case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $={findContent:function(e,t){return Z.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return Y.apply(this,arguments)}},Q=$;function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(h.a.mark((function e(t,r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={options:[]},e.next=3,Promise.all([R.findContent(t,r),Q.findContent(t,r),H.a.findContent(t,r),C.a.findContent(t,r)]);case 3:return e.sent.forEach((function(e){e&&e.options&&e.options.forEach((function(e){e&&n.options.push(e)}))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,r,n,o){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(h.a.mark((function e(t,r,n,o,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="theflix"===e.t0?3:"vidzstore"===e.t0?6:"xemovie"===e.t0?9:"gdriveplayer"===e.t0?12:"gomostream"===e.t0?15:18;break;case 3:return e.next=5,R.getStreamUrl(t,r,o,a);case 5:case 8:case 11:case 14:case 17:return e.abrupt("return",e.sent);case 6:return e.next=8,V.getStreamUrl(t);case 9:return e.next=11,C.a.getStreamUrl(t,r,o,a);case 12:return e.next=14,H.a.getStreamUrl(t,r,o,a);case 15:return e.next=17,Q.getStreamUrl(t,r,o,a);case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="theflix"===e.t0?3:"xemovie"===e.t0?6:9;break;case 3:return e.next=5,R.getEpisodes(t);case 5:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,C.a.getEpisodes(t);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(296);function se(){var e,t=D(),r=t.navigate,n=t.setStreamUrl,a=t.setStreamData,s=Object(f.e)(),c=Object(f.f)("/:type"),d=null===c||void 0===c||null===(e=c.params)||void 0===e?void 0:e.type,O=Object(f.f)("/:type/:source/:title/:slug"),k=o.a.useState([]),S=Object(p.a)(k,2),C=S[0],U=S[1],T=o.a.useState(0),I=Object(p.a)(T,2),A=I[0],L=I[1],R=o.a.useState(""),B=Object(p.a)(R,2),N=B[0],W=B[1],K=o.a.useState(!1),q=Object(p.a)(K,2),V=q[0],H=q[1],F=o.a.useState(!1),J=Object(p.a)(F,2),z=J[0],G=J[1],X=o.a.useState(!1),Z=Object(p.a)(X,2),Y=Z[0],$=Z[1],Q=o.a.useState("search"),te=Object(p.a)(Q,2),ne=te[0],ae=te[1],se=o.a.useState([]),ce=Object(p.a)(se,2),ie=ce[0],ue=ce[1],_e=function(e){L(4),W(e),H(!0)};function le(e,t,r,n,o){return pe.apply(this,arguments)}function pe(){return pe=Object(l.a)(h.a.mark((function e(t,o,s,c,i){var u,_,l,p,d,b,f,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(""),e.prev=1,L(2),W('Getting stream for "'.concat(t,'"')),u=[],_=[],"show"!==s){e.next=12;break}return e.next=9,oe(o,c);case 9:l=e.sent,u=l.seasons,_=l.episodes;case 12:if(p="",d=[],"movie"!==s){e.next=24;break}return e.next=17,re(o,s,c);case 17:if(b=e.sent,f=b.url,m=b.subtitles,""!==f){e.next=22;break}return e.abrupt("return",_e("Not found: ".concat(t)));case 22:p=f,d=m;case 24:L(4),n(p),a({title:t,type:s,seasons:u,episodes:_,slug:o,source:c,year:i,subtitles:d}),W("Streaming..."),r("movie"),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(1),console.error(e.t0),_e("Failed to get stream");case 35:case"end":return e.stop()}}),e,null,[[1,31]])}))),pe.apply(this,arguments)}function de(){return(de=Object(l.a)(h.a.mark((function e(t,r){var n,o,a,i,u,_,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!1),W("Searching for ".concat(r,' "').concat(t,'"')),L(1),G(!1),e.prev=4,e.next=7,ee(t,r);case 7:if(n=e.sent,0!==(o=n.options).length){e.next=13;break}return e.abrupt("return",_e("Could not find that ".concat(r)));case 13:if(!(o.length>1)){e.next=19;break}return L(2),W("Choose your ".concat(r)),U(o),G(!0),e.abrupt("return");case 19:a=o[0],i=a.title,u=a.slug,_=a.type,l=a.source,p=a.year,s.push("".concat(c.url,"/").concat(l,"/").concat(i,"/").concat(u)),le(i,u,_,l,p),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.error(e.t0),_e("Failed to watch ".concat(r));case 28:case"end":return e.stop()}}),e,null,[[4,24]])})))).apply(this,arguments)}if(o.a.useEffect((function(){function e(){return(e=Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://proxy-1.movie-web.workers.dev/?destination=").catch((function(){$("Our content provider is currently offline, apologies.")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),o.a.useEffect((function(){if(O){if("movie"!==(null===O||void 0===O?void 0:O.params.type)&&"show"!==O.params.type)return $("Failed to find movie. Please try searching below.");le(O.params.title,O.params.slug,O.params.type,O.params.source)}}),[]),o.a.useEffect((function(){var e=g.get(),t=[];Object.keys(e).forEach((function(r){var n,o,a,s,c,l=[].concat(Object(_.a)(Object.entries(null!==(n=null===(o=e[r])||void 0===o?void 0:o.show)&&void 0!==n?n:{})),Object(_.a)(Object.entries(null!==(a=null===(s=e[r])||void 0===s?void 0:s.movie)&&void 0!==a?a:{}))),d=Object(u.a)(l);try{for(d.s();!(c=d.n()).done;)for(var h=Object(p.a)(c.value,2),b=h[0],f=h[1],m=0,v=Object.values(f);m<v.length;m++){var w=v[m],x={slug:b,data:w,type:w.show?"show":"movie",percentageDone:Math.floor(w.currentlyAt/w.totalDuration*100),source:r};if(w.meta)if(x.percentageDone<90)t.push(x);else{var j,O,g,y,E;if(!w.show)continue;var k={};if(w.meta.episodes[w.show.season].includes("".concat(parseInt(w.show.episode)+1)))k.season=w.show.season,k.episode="".concat(parseInt(w.show.episode)+1),x.percentageDone=0;else{if(null===(j=w.meta.episodes)||void 0===j||null===(O=j["".concat(parseInt(w.show.season)+1)])||void 0===O||!O[0])continue;k.season="".concat(parseInt(w.show.season)+1),k.episode=w.meta.episodes["".concat(parseInt(w.show.season)+1)][0],x.percentageDone=0}if(x.data.show=Object(i.a)({},k),null===e||void 0===e||null===(g=e[r])||void 0===g||null===(y=g.show)||void 0===y||null===(E=y[b])||void 0===E?void 0:E["".concat(x.data.show.season,"-").concat(x.data.show.episode)])continue;t.push(x)}}}catch(S){d.e(S)}finally{d.f()}t=t.sort((function(e,t){return t.data.updatedAt-e.data.updatedAt})),ue(t)}))}),[]),!d||"movie"!==d&&"show"!==d)return Object(m.jsx)(f.a,{to:"/movie"});var he=function(e){return function(t){"Enter"!==t.code&&"Space"!==t.code||ae(e)}};return Object(m.jsxs)("div",{className:"cardView",children:[Object(m.jsx)(b.a,{children:Object(m.jsxs)("title",{children:["movie"===d?"movies":"shows"," | movie-web"]})}),Object(m.jsxs)("nav",{children:[Object(m.jsx)("span",{className:"search"===ne?"selected-link":"",onClick:function(){return ae("search")},onKeyPress:he("search"),tabIndex:0,children:"Search"}),ie.length>0?Object(m.jsx)("span",{className:"watching"===ne?"selected-link":"",onClick:function(){return ae("watching")},onKeyPress:he("watching"),tabIndex:0,children:"Continue watching"}):""]}),"search"===ne?Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsxs)(w,{children:[Y?Object(m.jsx)(x,{children:Y}):"",Object(m.jsx)(M,{accent:"Because watching content legally is boring",children:"What do you wanna watch?"}),Object(m.jsx)(P,{setType:function(e){return s.push("/".concat(e))},choices:[{label:"Movie",value:"movie"},{label:"TV Show",value:"show"}],noWrap:!0,selected:d}),Object(m.jsx)(j,{placeholder:"movie"===d?"Hamilton":"Atypical",onSubmit:function(e){return function(e,t){return de.apply(this,arguments)}(e,d)}}),Object(m.jsx)(E,{show:A>0,failed:V,progress:A,steps:4,text:N})]}),Object(m.jsxs)(w,{show:z,doTransition:!0,children:[Object(m.jsxs)(M,{size:"medium",children:["Whoops, there are a few ",d,"s like that"]}),Object.entries(C.reduce((function(e,t){return e[t.source]||(e[t.source]=[]),e[t.source].push(t),e}),{})).map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"source",children:e[0]}),e[1].map((function(e,t){return Object(m.jsx)(y,{title:e.title,slug:e.slug,type:e.type,year:e.year,source:e.source,onClick:function(){s.push("".concat(c.url,"/").concat(e.source,"/").concat(e.title,"/").concat(e.slug)),G(!1),le(e.title,e.slug,e.type,e.source,e.year)}},t)}))]},e[0])}))]})]}):Object(m.jsx)(o.a.Fragment,{}),ie.length>0&&"watching"===ne?Object(m.jsxs)(w,{children:[Object(m.jsx)(M,{children:"Continue watching"}),Object(m.jsx)(E,{show:A>0,failed:V,progress:A,steps:4,text:N}),null===ie||void 0===ie?void 0:ie.map((function(e,t){return Object(m.jsx)(y,{title:e.data.meta.title,slug:e.data.meta.slug,type:e.type,year:e.data.meta.year,source:e.source,place:e.data.show,percentage:e.percentageDone,deletable:!0,onClick:function(){"show"===e.type?s.push("/show/".concat(e.source,"/").concat(e.data.meta.title,"/").concat(e.slug,"/season/").concat(e.data.show.season,"/episode/").concat(e.data.show.episode)):s.push("/movie/".concat(e.source,"/").concat(e.data.meta.title,"/").concat(e.slug)),G(!1),le(e.data.meta.title,e.data.meta.slug,e.type,e.source,e.data.meta.year)}},t)}))]}):Object(m.jsx)(o.a.Fragment,{}),Object(m.jsxs)("div",{className:"topRightCredits",children:[Object(m.jsxs)("a",{href:"https://github.com/JamesHawkinss/movie-web",target:"_blank",rel:"noreferrer",children:["Check it out on GitHub ",Object(m.jsx)(v,{})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("a",{href:"https://discord.gg/vXsRvye8BS",target:"_blank",rel:"noreferrer",children:["Join the Discord ",Object(m.jsx)(v,{})]})]})]})}var ce=r(60),ie=r.n(ce);r(297);function ue(e){return Object(m.jsx)("div",{className:"videoPlaceholder",children:Object(m.jsx)("div",{className:"videoPlaceholderBox",children:Object(m.jsx)("p",{children:e.children})})})}r(298);function _e(e){var t=e.streamUrl,r=e.loading,n=e.setProgress,a=e.videoRef,s=e.startTime,c=e.streamData,i=o.a.useState(!1),u=Object(p.a)(i,2),_=u[0],l=u[1];function d(){s&&(a.current.currentTime=s)}return o.a.useEffect((function(){if(!t.includes(".mp4")&&!t.includes("redirector.php")){if(console.log(t),l(!1),!a||!a.current||!t||0===t.length||r)return;var e=new ie.a;if(!ie.a.isSupported()&&a.current.canPlayType("application/vnd.apple.mpegurl"))return void(a.current.src=t);if(!ie.a.isSupported())return void l(!0);e.attachMedia(a.current),e.loadSource(t)}}),[a,t,r]),_?Object(m.jsx)(ue,{children:"Your browser is not supported"}):r?Object(m.jsx)(ue,{children:"Loading episode..."}):t&&0!==t.length?t.includes(".mp4")||t.includes("redirector.php")?Object(m.jsxs)("video",{className:"videoElement",ref:a,controls:!0,autoPlay:!0,onProgress:n,onLoadedData:d,children:[c.subtitles&&c.subtitles.map((function(e,t){return Object(m.jsx)("track",{kind:"captions",label:e.language,src:e.file},t)})),Object(m.jsx)("source",{src:t,type:"video/mp4"})]}):Object(m.jsx)("video",{className:"videoElement",ref:a,controls:!0,autoPlay:!0,onProgress:n,onLoadedData:d,children:c.subtitles&&c.subtitles.map((function(e,t){return Object(m.jsx)("track",{kind:"captions",label:e.language,src:e.file},t)}))}):Object(m.jsx)(ue,{children:"No video selected"})}r(299);function le(e){var t=e.setType,r=e.choices,n=e.selected;return Object(m.jsx)("div",{className:"numberSelector",children:r.map((function(e){return Object(m.jsx)("div",{className:"choiceWrapper",tabIndex:0,onKeyPress:(r=e.value,function(e){"Space"!==e.code&&"Enter"!==e.code||t(r)}),children:Object(m.jsxs)("div",{className:"choice ".concat(n&&n===e.value?"selected":""),onClick:function(){return t(e.value)},children:[e.label,Object(m.jsx)(O,{percentage:e.percentage})]})},e.value);var r}))})}var pe=r(151),de=(r(300),["option"]);function he(e){var t=e.option,r=Object(pe.a)(e,de);return Object(m.jsxs)("div",Object(i.a)(Object(i.a)({className:"option"},r),{},{children:[Object(m.jsx)("input",{type:"radio",className:"radio",id:t.id}),Object(m.jsx)("label",{htmlFor:t.id,children:Object(m.jsx)("div",{className:"item",children:t.name})})]}))}function be(e){var t=e.options,r=e.selectedItem,o=e.setSelectedItem;if(!Array.isArray(t))throw new Error("Items must be an array!");var a=Object(n.useState)(!1),s=Object(p.a)(a,2),c=s[0],i=s[1],u=Object(n.useRef)(),_=function(e){u.current.contains(e.target)||l()},l=function(){i(!1)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",_),function(){document.removeEventListener("mousedown",_)}}),[]);var d=function(e,t,r){e.stopPropagation(),o(r),l()},h=function(e,t){return function(e){"Enter"!==e.code&&"Space"!==e.code||d(e,0,t)}};return Object(m.jsxs)("div",{className:"select-box",ref:u,onClick:function(){return i((function(e){return!e}))},children:[Object(m.jsx)("div",{className:"selected",tabIndex:0,onKeyPress:function(e){"Enter"!==e.code&&"Space"!==e.code||i((function(e){return!e}))},children:t?Object(m.jsx)(he,{option:t[r]}):null}),Object(m.jsx)("div",{className:"options-container"+(c?" active":""),children:t.map((function(e,t){return Object(m.jsx)(he,{option:e,onClick:function(e){return d(e,0,t)},tabIndex:c?0:void 0,onKeyPress:c?h(0,t):void 0},t)}))})]})}r(301);function fe(e){var t=e.setSelectedSeason,r=e.selectedSeason,o=e.setEpisode,a=e.seasons,s=e.episodes,c=e.currentSeason,i=e.currentEpisode,u=e.streamData,_=s?s.map((function(e){var t,n,o,a=g.get(),s=0,c=0,i=null===a||void 0===a||null===(t=a[u.source])||void 0===t||null===(n=t[u.type])||void 0===n||null===(o=n[u.slug])||void 0===o?void 0:o["".concat(r,"-").concat(e)];i&&(s=i.currentlyAt,c=i.totalDuration);var _=Math.round(s/c*100);return{value:e.toString(),label:e,percentage:_}})):[],l=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(p.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r}();return Object(m.jsxs)("div",{className:"episodeSelector",children:[a.length>0&&(l.width<=768||a.length>4)?Object(m.jsx)(be,{setSelectedItem:function(e){return t(a[e])},selectedItem:a.findIndex((function(e){return e===r})),options:a.map((function(e){return{id:e,name:"Season ".concat(e)}}))}):Object(m.jsx)(P,{setType:t,selected:r,choices:a.map((function(e){return{value:e.toString(),label:"Season ".concat(e)}}))}),Object(m.jsx)("br",{}),Object(m.jsx)(le,{setType:function(e){return o({episode:e,season:r})},choices:_,selected:r.toString()===c?i:null})]})}r(302);function me(e){var t=Object(f.f)("/:type/:source/:title/:slug"),r=Object(f.f)("/:type/:source/:title/:slug/season/:season/episode/:episode"),n=Object(f.e)(),a=D(),s=a.streamUrl,c=a.streamData,i=a.setStreamUrl,u=o.a.useState([]),_=Object(p.a)(u,2),l=_[0],d=_[1],h=o.a.useState([]),v=Object(p.a)(h,2),x=v[0],j=v[1],O=o.a.useState(!1),y=Object(p.a)(O,2),E=y[0],k=y[1],S=o.a.useState("1"),P=Object(p.a)(S,2),C=P[0],U=P[1],T=o.a.useState(0),I=Object(p.a)(T,2),A=I[0],L=I[1],R=o.a.useRef(null),B=o.a.useRef(!1),N=(null===r||void 0===r?void 0:r.params.season)||"1",W=(null===r||void 0===r?void 0:r.params.episode)||"1";o.a.useEffect((function(){"show"!==c.type||r||n.replace("".concat(t.url,"/season/1/episode/1"))}),[c.type,r,n,t.url]),o.a.useEffect((function(){"show"===c.type&&r&&U(r.params.season.toString())}),[]),o.a.useEffect((function(){var e=!1;return"show"!==c.type?function(){e=!0}:W?(k(!0),re(c.slug,c.type,c.source,N,W).then((function(t){var r=t.url,n=t.subtitles;e||(c.subtitles=n,i(r),k(!1))})).catch((function(t){e||console.error(t)})),function(){e=!0}):(k(!1),void i(""))}),[W,c,i,N]),o.a.useEffect((function(){"show"===c.type&&(d(c.seasons),j(c.episodes[C]))}),[c.seasons,c.episodes,c.type,C]),o.a.useEffect((function(){var e,t,r,n,o=g.get(),a="show"===c.type?"".concat(N,"-").concat(W):"full",s=null===o||void 0===o||null===(e=o[c.source])||void 0===e||null===(t=e[c.type])||void 0===t||null===(r=t[c.slug])||void 0===r||null===(n=r[a])||void 0===n?void 0:n.currentlyAt;L(s)}),[t,r]);return Object(m.jsxs)("div",{className:"cardView showType-".concat(c.type),children:[Object(m.jsx)(b.a,{children:Object(m.jsxs)("title",{children:[c.title,"show"===c.type?" | S".concat(N,"E").concat(W):""," | movie-web"]})}),Object(m.jsxs)(w,{fullWidth:!0,children:[Object(m.jsx)(M,{accent:"Return to home",accentLink:"search",children:c.title}),"show"===c.type?Object(m.jsxs)(M,{size:"small",children:["Season ",N,": Episode ",W]}):void 0,Object(m.jsx)(_e,{streamUrl:s,loading:E,setProgress:function(e){var t=g.get();t[c.source]||(t[c.source]={}),t[c.source][c.type]||(t[c.source][c.type]={}),t[c.source][c.type][c.slug]||(t[c.source][c.type][c.slug]={});var r="show"===c.type?"".concat(N,"-").concat(W):"full";t[c.source][c.type][c.slug][r]={currentlyAt:Math.floor(e.currentTarget.currentTime),totalDuration:Math.floor(e.currentTarget.duration),updatedAt:Date.now(),meta:c},"show"===c.type&&(t[c.source][c.type][c.slug][r].show={season:N,episode:W}),t.save()},videoRef:R,startTime:A,streamData:c}),"show"===c.type?Object(m.jsx)(fe,{setSelectedSeason:U,selectedSeason:C,setEpisode:function(e){var r=e.season,o=e.episode;n.push("".concat(t.url,"/season/").concat(r,"/episode/").concat(o)),B.current=!1},seasons:l,episodes:x,currentSeason:N,currentEpisode:W,streamData:c}):""]})]})}function ve(){return D().streamData?Object(m.jsx)(me,{}):Object(m.jsx)(se,{})}var we=function(){return Object(m.jsx)(S,{children:Object(m.jsx)(ve,{})})};s.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(c.a,{children:Object(m.jsx)(we,{})})}),document.getElementById("root"))},59:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3__),fuse_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(58),BASE_URL="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://xemovie.co");function findContent(e,t){return _findContent.apply(this,arguments)}function _findContent(){return(_findContent=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function e(t,r){var n,o,a,s,c,i,u,_,l,p,d,h,b,f,m;return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o="".concat(BASE_URL,"/search?q=").concat(encodeURIComponent(t)),e.next=4,fetch(o).then((function(e){return e.text()}));case 4:a=e.sent,s=new DOMParser,c=s.parseFromString(a,"text/html"),e.t0=r,e.next="show"===e.t0?10:"movie"===e.t0?11:15;break;case 10:return e.abrupt("return",{options:[]});case 11:return i=c.querySelectorAll(".py-10")[0].querySelector(".grid"),u=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(i.querySelectorAll("a")).filter((function(e){return!e.className})),n=u.map((function(e){return e=e.parentElement,{type:r,title:Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(new Set(e.innerText.split("\n")))[1].split("(")[0].trim(),year:Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(new Set(e.innerText.split("\n")))[3],slug:e.querySelector("a").href.split("/").pop(),source:"xemovie"}})),e.abrupt("break",17);case 15:return n=[],e.abrupt("break",17);case 17:if(_=new fuse_js__WEBPACK_IMPORTED_MODULE_4__.a(n,{threshold:.3,keys:["title"]}),0!==(l=_.search(t).map((function(e){return e.item}))).length){e.next=21;break}return e.abrupt("return",{options:[]});case 21:if(!(l.length>1)){e.next=27;break}return p={options:[]},l.forEach((function(e){return p.options.push({title:e.title,slug:e.slug,type:e.type,year:e.year,source:"xemovie"})})),e.abrupt("return",p);case 27:return d=l[0],h=d.title,b=d.slug,f=d.type,m=d.year,e.abrupt("return",{options:[{title:h,slug:b,type:f,year:m,source:"xemovie"}]});case 29:e.next=34;break;case 31:return e.prev=31,e.t1=e.catch(0),e.abrupt("return",{options:[]});case 34:case"end":return e.stop()}}),e,null,[[0,31]])})))).apply(this,arguments)}function getStreamUrl(e,t,r,n){return _getStreamUrl.apply(this,arguments)}function _getStreamUrl(){return _getStreamUrl=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee2(slug,type,season,episode){var url,mediaUrl,subtitles,res,DOM,_iterator,_step,script,data,_iterator2,_step2,subtitleTrack,subtitleBlob;return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return"show"===type||(url="".concat(BASE_URL,"/movies/").concat(slug,"/watch")),mediaUrl="",subtitles=[],_context2.next=5,fetch(url).then((function(e){return e.text()}));case 5:res=_context2.sent,DOM=(new DOMParser).parseFromString(res,"text/html"),_iterator=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__.a)(DOM.scripts),_context2.prev=8,_iterator.s();case 10:if((_step=_iterator.n()).done){_context2.next=38;break}if(script=_step.value,!script.textContent.match(/https:\/\/s[0-9]\.xemovie\.com/)){_context2.next=36;break}data=JSON.parse(JSON.stringify(eval("(".concat(script.textContent.replace("const data = ","").split("};")[0],"})")))),mediaUrl=data.playlist[0].file,_iterator2=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__.a)(data.playlist[0].tracks),_context2.prev=16,_iterator2.s();case 18:if((_step2=_iterator2.n()).done){_context2.next=28;break}return subtitleTrack=_step2.value,_context2.t0=URL,_context2.next=23,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=").concat(subtitleTrack.file)).then((function(e){return e.blob()}));case 23:_context2.t1=_context2.sent,subtitleBlob=_context2.t0.createObjectURL.call(_context2.t0,_context2.t1),subtitles.push({file:subtitleBlob,language:subtitleTrack.label});case 26:_context2.next=18;break;case 28:_context2.next=33;break;case 30:_context2.prev=30,_context2.t2=_context2.catch(16),_iterator2.e(_context2.t2);case 33:return _context2.prev=33,_iterator2.f(),_context2.finish(33);case 36:_context2.next=10;break;case 38:_context2.next=43;break;case 40:_context2.prev=40,_context2.t3=_context2.catch(8),_iterator.e(_context2.t3);case 43:return _context2.prev=43,_iterator.f(),_context2.finish(43);case 46:return _context2.abrupt("return",{url:"".concat("https://proxy-1.movie-web.workers.dev/?destination=").concat(mediaUrl),subtitles:subtitles});case 47:case"end":return _context2.stop()}}),_callee2,null,[[8,40,43,46],[16,30,33,36]])}))),_getStreamUrl.apply(this,arguments)}function getEpisodes(e){return _getEpisodes.apply(this,arguments)}function _getEpisodes(){return(_getEpisodes=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function e(t){return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xemovie={findContent:findContent,getStreamUrl:getStreamUrl,getEpisodes:getEpisodes};__webpack_exports__.a=xemovie},88:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__),crypto_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),crypto_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_3__),unpacker__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89),unpacker__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(unpacker__WEBPACK_IMPORTED_MODULE_4__),BASE_URL="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://database.gdriveplayer.us"),API_URL="".concat("https://proxy-1.movie-web.workers.dev/?destination=","https://api.gdriveplayer.us"),format={stringify:function(e){var t=e.ciphertext.toString(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.enc.Base64),r=e.iv.toString()||"",n=e.salt.toString()||"";return JSON.stringify({ct:t,iv:r,salt:n})},parse:function(e){var t=JSON.parse(e),r=crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.enc.Base64.parse(t.ct),n=crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.enc.Hex.parse(t.iv)||"",o=crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.enc.Hex.parse(t.s)||"";return crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.lib.CipherParams.create({ciphertext:r,iv:n,salt:o})}};function findContent(e,t){return _findContent.apply(this,arguments)}function _findContent(){return(_findContent=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,r){var n,o,a;return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==r){e.next=2;break}return e.abrupt("return",{options:[]});case 2:return e.prev=2,n="".concat(API_URL,"/v1/movie/search?title=").concat(t),e.next=6,fetch(n).then((function(e){return e.json()}));case 6:return o=e.sent,a=o.map((function(e){return{type:r,title:e.title,year:e.year,slug:encodeURIComponent("player.php?imdb=".concat(e.imdb)),source:"gdriveplayer"}})),e.abrupt("return",{options:a});case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{options:[]});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function getStreamUrl(e){return _getStreamUrl.apply(this,arguments)}function _getStreamUrl(){return _getStreamUrl=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function _callee3(slug){var url,res,DOM,script,unpacked,data,decryptedData,sources,unmappedSubtitles,subtitles;return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return url="".concat(BASE_URL,"/").concat(decodeURIComponent(slug)),_context3.next=3,fetch(url).then((function(e){return e.text()}));case 3:return res=_context3.sent,DOM=(new DOMParser).parseFromString(res,"text/html"),script=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(DOM.querySelectorAll("script")).find((function(e){return e.textContent.includes("eval")})),unpacked=Object(unpacker__WEBPACK_IMPORTED_MODULE_4__.unpack)(script.textContent),data=unpacked.split("var data=\\'")[1].split("\\'")[0].replace(/\\/g,""),decryptedData=Object(unpacker__WEBPACK_IMPORTED_MODULE_4__.unpack)(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.AES.decrypt(data,"alsfheafsjklNIWORNiolNIOWNKLNXakjsfwnBdwjbwfkjbJjkopfjweopjASoiwnrflakefneiofrt",{format:format}).toString(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.enc.Utf8)),sources=JSON.parse(JSON.stringify(eval(decryptedData.split("sources:")[1].split(",image")[0].replace(/\\/g,"").replace(/document\.referrer/g,'""')))),unmappedSubtitles=JSON.parse(DOM.querySelector("#subtitlez").textContent).filter((function(e){return 2!==e.file.length})),subtitles=unmappedSubtitles.map(function(){var e=Object(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r;return _home_runner_work_movie_web_movie_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=URL,e.next=3,fetch("".concat("https://proxy-1.movie-web.workers.dev/?destination=").concat(t.file)).then((function(e){return e.blob()}));case 3:return e.t1=e.sent,r=e.t0.createObjectURL.call(e.t0,e.t1),e.abrupt("return",{file:r,language:t.label});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_context3.abrupt("return",{url:sources[sources.length-1].file,subtitles:subtitles});case 13:case"end":return _context3.stop()}}),_callee3)}))),_getStreamUrl.apply(this,arguments)}var gdriveplayer={findContent:findContent,getStreamUrl:getStreamUrl};__webpack_exports__.a=gdriveplayer},90:function(e,t,r){}},[[303,1,2]]]);
//# sourceMappingURL=main.76319723.chunk.js.map